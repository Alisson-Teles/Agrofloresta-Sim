import json
import os

# Vari√°vel global para gerenciar IDs √∫nicos
global proximo_id
proximo_id = 1

class Cultura:
    def __init__(
        self,
        nome,
        tipo,
        classificacao_agronomica=None,
        classificacao_morfologica=None,
        sinergias=None,
        antagonismos=None,
        tempo_crescimento=0,
        rendimento=0,
        necessidades=None,
        necessidade_luz=None,
        necessidade_hidrica=None,
        temperatura_ideal=None,
        faixa_ph=None,
        porte=None,
        ciclo=None,
        epocas_plantio=None,
        exigencia_nutricional=None,
        sombreamento=0,
        pragas=None,
        doencas=None,
        controle_natural=None,
        cobertura_solo=1,
        diametro_copa=1,  # Novo atributo adicionado
        atrai_polinizadores=None,
        interacao_outros=None,
        resistencia=None,
        tempo_colheita=None,
        icone="?",
        **kwargs
    ):
        global proximo_id
        self.id_cultura = proximo_id
        proximo_id += 1

        self.nome = nome
        self.tipo = tipo
        # Categoria expl√≠cita: Frut√≠fera, Hortali√ßa ou Ro√ßa
        lower_tipo = (tipo or "").lower()
        if 'frut' in lower_tipo:
            self.categoria = 'Frut√≠fera'
        elif 'hort' in lower_tipo:
            self.categoria = 'Hortali√ßa'
        else:
            self.categoria = 'Ro√ßa'

        self.classificacao_agronomica = classificacao_agronomica or "N√£o especificado"
        self.classificacao_morfologica = classificacao_morfologica or "N√£o especificado"
        self.sinergias = sinergias or []
        self.antagonismos = antagonismos or []
        self.tempo_crescimento = tempo_crescimento
        self.rendimento = rendimento
        self.necessidades = necessidades or {"sol": "moderado", "agua": "moderado", "solo": "neutro"}
        self.necessidade_luz = necessidade_luz
        self.necessidade_hidrica = necessidade_hidrica
        self.temperatura_ideal = temperatura_ideal
        self.faixa_ph = faixa_ph
        self.porte = porte
        self.ciclo = ciclo
        self.epocas_plantio = epocas_plantio
        self.exigencia_nutricional = exigencia_nutricional
        self.sombreamento = int(sombreamento)
        self.pragas = pragas or []
        self.doencas = doencas or []
        self.controle_natural = controle_natural or []
        self.cobertura_solo = int(cobertura_solo)
        self.diametro_copa = int(diametro_copa)  # Atributo novo
        self.atrai_polinizadores = atrai_polinizadores
        self.interacao_outros = interacao_outros
        self.resistencia = resistencia
        self.tempo_colheita = tempo_colheita
        self.icone = icone
        self.atributos_extras = kwargs
        self.idade = 0
        self.saudavel = True

    def to_dict(self):
        return {
            "id_cultura": self.id_cultura,
            "nome": self.nome,
            "tipo": self.tipo,
            "categoria": self.categoria,
            "classificacao_agronomica": self.classificacao_agronomica,
            "classificacao_morfologica": self.classificacao_morfologica,
            "sinergias": self.sinergias,
            "antagonismos": self.antagonismos,
            "tempo_crescimento": self.tempo_crescimento,
            "rendimento": self.rendimento,
            "necessidades": self.necessidades,
            "necessidade_luz": self.necessidade_luz,
            "necessidade_hidrica": self.necessidade_hidrica,
            "temperatura_ideal": self.temperatura_ideal,
            "faixa_ph": self.faixa_ph,
            "porte": self.porte,
            "ciclo": self.ciclo,
            "epocas_plantio": self.epocas_plantio,
            "exigencia_nutricional": self.exigencia_nutricional,
            "sombreamento": self.sombreamento,
            "pragas": self.pragas,
            "doencas": self.doencas,
            "controle_natural": self.controle_natural,
            "cobertura_solo": self.cobertura_solo,
            "diametro_copa": self.diametro_copa,
            "atrai_polinizadores": self.atrai_polinizadores,
            "interacao_outros": self.interacao_outros,
            "resistencia": self.resistencia,
            "tempo_colheita": self.tempo_colheita,
            "icone": self.icone,
            "atributos_extras": self.atributos_extras,
        }

if __name__ == "__main__":
    caminho_json = os.path.join(os.path.dirname(__file__), "culturas.json")

    novas_culturas = [
                Cultura(
            nome="ABACAXI",
            tipo="Frut√≠fera",
            classificacao_agronomica="Comercial e Industrial",
            classificacao_morfologica="Herb√°cea perene de porte m√©dio",
            sinergias=["Feij√£o-guandu", "Crotal√°ria", "Mamona"],
            antagonismos=["Cebola", "Alho"],
            tempo_crescimento=450,
            rendimento=35,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "bem drenado e leve"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="21‚Äì30¬∞C",
            faixa_ph="5.0‚Äì6.0",
            porte="M√©dio",
            ciclo="Perene (15 a 24 meses)",
            epocas_plantio=["Outubro a Mar√ßo (Minas Gerais)"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Tripes", "Cochonilhas", "√Åcaros"],
            doencas=["Fusariose", "Murcha bacteriana", "Podrid√µes p√≥s-colheita"],
            controle_natural=["Uso de mudas sadias", "Aduba√ß√£o equilibrada", "Cobertura morta"],
            cobertura_solo=4,
            diametro_copa = 1,
            atrai_polinizadores="N√£o",
            interacao_outros="Melhora aproveitamento da √°rea em cons√≥rcios",
            resistencia="Moderada √† seca",
            tempo_colheita="15 a 24 meses",
            icone="üçç"
        ),
                Cultura(
            nome="ABOBRINHA-MENINA",
            tipo="Hortali√ßa",
            classificacao_agronomica="Mesa e Comercial",
            classificacao_morfologica="Planta rasteira ou semi-ereta, herb√°cea anual",
            sinergias=["Milho", "Feij√£o", "Crotal√°ria"],
            antagonismos=["Pepino", "Melancia", "Outras cucurbit√°ceas em rota√ß√£o imediata"],
            tempo_crescimento=90,
            rendimento=24,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "leve, f√©rtil e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="22‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.7",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Ano todo (em clima quente)", "Agosto a Mar√ßo (ameno)", "Setembro a Fevereiro (frio)"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Broca-das-cucurbit√°ceas", "Lagartas", "Pulg√µes"],
            doencas=["O√≠dio", "M√≠ldio", "Antracnose", "Podrid√µes"],
            controle_natural=["Trichogramma spp.", "Telenomus sp.", "Rota√ß√£o de culturas", "Cobertura morta"],
            cobertura_solo=4,
            diametro_copa = 1.5,
            atrai_polinizadores="Sim",
            interacao_outros="Favorece controle biol√≥gico e ocupa bem o solo",
            resistencia="Sens√≠vel a geadas, tolerante ao calor",
            tempo_colheita="70 a 90 dias",
            icone="ü•í"
        ),
                Cultura(
            nome="AGRI√ÉO",
            tipo="Hortali√ßa folhosa",
            classificacao_agronomica="Comercial e Medicinal",
            classificacao_morfologica="Planta herb√°cea rasteira ou semi-aqu√°tica",
            sinergias=["Cebolinha", "Alface", "Salsinha"],
            antagonismos=["Coentro"],  # Pode competir por nutrientes e sombra
            tempo_crescimento=60,
            rendimento=20,
            necessidades={"sol": "pleno a meia-sombra", "agua": "alta", "solo": "√∫mido, f√©rtil e bem drenado"},
            necessidade_luz="pleno a parcial",
            necessidade_hidrica="alta",
            temperatura_ideal="15‚Äì20¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="Baixo",
            ciclo="Anual com m√∫ltiplos cortes",
            epocas_plantio=["Mar√ßo a Julho (preferencial)", "Ano todo em regi√µes serranas"],
            exigencia_nutricional="Alta",
            sombreamento=2,
            pragas=["Pulg√µes", "Lagartas", "Moluscos"],
            doencas=["Podrid√µes", "Murchas f√∫ngicas (ocasionalmente)"],
            controle_natural=["√Ågua de sab√£o", "Urina fermentada", "Rota√ß√£o de culturas"],
            cobertura_solo=3,
            diametro_copa = 0.3,
            atrai_polinizadores="N√£o",
            interacao_outros="Excelente para controle biol√≥gico e rota√ß√£o; folhagem densa ajuda na cobertura do solo",
            resistencia="Sens√≠vel ao calor, tolerante √† umidade elevada",
            tempo_colheita="40 a 70 dias",
            icone="üåø"
        ),

                Cultura(
            nome="ALFACE",
            tipo="Hortali√ßa folhosa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea, folhosa de porte baixo",
            sinergias=["Cenoura", "Rabanete", "Cebolinha", "Beterraba"],
            antagonismos=["Coentro", "Sals√£o"],  # evitam-se pela competi√ß√£o ou alelopatia
            tempo_crescimento=70,
            rendimento=20,
            necessidades={"sol": "pleno", "agua": "frequente", "solo": "leve, f√©rtil e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="7‚Äì24¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Ano todo com variedade adequada", "Melhor entre fevereiro e agosto"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Pulg√µes", "Lesmas", "Lagartas", "Moscas-minadoras"],
            doencas=["Queima das bordas", "M√≠ldio", "Podrid√£o de ra√≠zes"],
            controle_natural=["Cobertura morta", "Rota√ß√£o de culturas", "Cultivo protegido"],
            cobertura_solo=3,
            diametro_copa = 0.4,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa para cons√≥rcios r√°pidos, cobertura leve do solo",
            resistencia="Sens√≠vel a calor e doen√ßas foliares; tolera frio leve",
            tempo_colheita="60 a 80 dias",
            icone="ü•¨"
        ),
                Cultura(
            nome="ALHO",
            tipo="Hortali√ßa",
            classificacao_agronomica="Comercial e Medicinal",
            classificacao_morfologica="Planta herb√°cea, bulbosa de pequeno porte",
            sinergias=["Cenoura", "Alface", "Morango", "Tomate"],
            antagonismos=["Ervilha", "Feij√£o"],
            tempo_crescimento=120,
            rendimento=15,
            necessidades={"sol": "pleno", "agua": "controlado", "solo": "bem drenado, f√©rtil e rico em mat√©ria org√¢nica"},
            necessidade_luz="pleno",
            necessidade_hidrica="baixa",
            temperatura_ideal="10‚Äì22¬∞C (varia por fase)",
            faixa_ph="6.0‚Äì6.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Fevereiro a Maio (Centro-Sul)", "Maio (em regi√µes quentes e baixas altitudes)"],
            exigencia_nutricional="Alta",
            sombreamento=0,
            pragas=["Tripes", "√Åcaros", "Tra√ßas de armazenamento"],
            doencas=["Ferrugem", "Podrid√µes", "Superbrotamento"],
            controle_natural=["Rota√ß√£o de culturas", "Aspers√£o racional", "Fumiga√ß√£o com fosfina"],
            cobertura_solo=3,
            diametro_copa = 0.3,
            atrai_polinizadores="N√£o",
            interacao_outros="A√ß√£o repelente natural contra pragas; melhora controle biol√≥gico",
            resistencia="Alta ao frio, sens√≠vel ao calor excessivo",
            tempo_colheita="110 a 130 dias",
            icone="üßÑ"
        ),
                Cultura(
            nome="AMENDOIM",
            tipo="Oleaginosa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta rasteira ou ereta, anual",
            sinergias=["Milho", "Feij√£o", "Crotal√°ria"],
            antagonismos=["Girassol", "Batata-doce"],  # competi√ß√£o por nutrientes e solo
            tempo_crescimento=120,
            rendimento=3.0,  # toneladas por hectare (m√©dia entre 2,5 e 3,5 t/ha)
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "bem drenado e f√©rtil"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="20‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Outubro a Novembro (das √°guas)", "Janeiro a Fevereiro (da seca)"],
            exigencia_nutricional="Alta em c√°lcio",
            sombreamento=0,
            pragas=["Tripes", "Cigarrinhas", "Lagartas", "Cupins", "Percevejos-de-raiz"],
            doencas=["Tombamento", "Ferrugem", "Podrid√µes de vagens", "Contamina√ß√£o por aflatoxinas"],
            controle_natural=["Inocula√ß√£o com Bradyrhizobium", "Rota√ß√£o de culturas", "Monitoramento de pragas"],
            cobertura_solo=2,
            diametro_copa = 0.6,
            atrai_polinizadores="N√£o",
            interacao_outros="Melhora estrutura do solo com fixa√ß√£o biol√≥gica de nitrog√™nio",
            resistencia="Alta √† seca, sens√≠vel ao excesso de umidade",
            tempo_colheita="90 a 130 dias",
            icone="ü•ú"
        ),
                Cultura(
            nome="BANANA",
            tipo="Frut√≠fera",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea perene de porte m√©dio a alto",
            sinergias=["Cacau", "Mamona", "Crotal√°ria"],
            antagonismos=["Batata-doce", "Girassol"],  # devido a competi√ß√£o e pragas comuns
            tempo_crescimento=300,
            rendimento=16,
            necessidades={"sol": "pleno", "agua": "constante", "solo": "profundo, f√©rtil, bem drenado e √∫mido"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="24‚Äì30¬∞C",
            faixa_ph="6.0‚Äì6.5",
            porte="Alto",
            ciclo="Perene (colheitas a cada 8‚Äì18 meses, dependendo da altitude)",
            epocas_plantio=["In√≠cio das chuvas (primavera)", "Ano todo em √°reas irrigadas"],
            exigencia_nutricional="Muito alta",
            sombreamento=3,
            pragas=["Broca-do-rizoma", "Tripes", "Pulg√µes", "Abelhas (nos cachos)"],
            doencas=["Sigatoka-negra", "Mal-do-panam√°", "Podrid√µes de rizoma", "Mancha bacteriana"],
            controle_natural=["Uso de mudas sadias", "Ensacamento dos cachos", "Rota√ß√£o e cobertura morta"],
            cobertura_solo=4,
            diametro_copa = 3,
            atrai_polinizadores="N√£o",
            interacao_outros="Fornece sombra e prote√ß√£o a culturas menores; indicada em sistemas agroflorestais",
            resistencia="Sens√≠vel a ventos e doen√ßas f√∫ngicas; moderada √† seca",
            tempo_colheita="8 a 18 meses",
            icone="üçå"
        ),
               Cultura(
            nome="BATATA",
            tipo="Hortali√ßa tuberosa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea de ciclo anual, com tub√©rculos subterr√¢neos",
            sinergias=["Alface", "Cenoura", "Milho"],
            antagonismos=["Girassol", "Bananeira"],
            tempo_crescimento=110,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "controlada", "solo": "profundo, f√©rtil, bem drenado e corrigido"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada a alta",
            temperatura_ideal="10‚Äì25¬∞C (noturna ideal at√© 18¬∞C)",
            faixa_ph="5.5‚Äì6.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Setembro a Novembro (√°guas)", "Fevereiro a Abril (seca)", "Maio a Julho (inverno)"],
            exigencia_nutricional="Muito alta",
            sombreamento=1,
            pragas=["Tra√ßa-da-batata", "Pulg√µes", "Lagarta-alfinete", "Larva-arame", "Mosca-minadora"],
            doencas=["Requeima", "Pinta-preta", "Podrid√µes", "Murcha bacteriana", "Manchas internas"],
            controle_natural=["Rota√ß√£o de culturas", "Cultivares resistentes", "Irriga√ß√£o controlada", "Cobertura morta"],
            cobertura_solo=3,
            diametro_copa = 0.5,
            atrai_polinizadores="N√£o",
            interacao_outros="Planta exigente, ideal para rota√ß√£o e cobertura r√°pida do solo",
            resistencia="Sens√≠vel a excesso de umidade e geadas; moderada √† seca",
            tempo_colheita="90 a 115 dias",
            icone="ü•î"
        ),
                Cultura(
            nome="BATATA-DOCE",
            tipo="Raiz e tub√©rculo",
            classificacao_agronomica="Mesa, Ind√∫stria e Forragem",
            classificacao_morfologica="Planta rasteira, herb√°cea perene de ciclo anual",
            sinergias=["Milho", "Feij√£o", "Ab√≥bora"],
            antagonismos=["Bananeira", "Amendoim"],
            tempo_crescimento=120,
            rendimento=20,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "leve, profundo, f√©rtil e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="24‚Äì28¬∞C",
            faixa_ph="5.5‚Äì6.5",
            porte="Rasteiro",
            ciclo="Anual",
            epocas_plantio=["Primavera-ver√£o", "Outono com irriga√ß√£o"],
            exigencia_nutricional="Moderada",
            sombreamento=2,
            pragas=["Broca-da-raiz", "Broca-do-caule", "Cupins"],
            doencas=["Mal-do-p√©", "Podrid√£o mole", "Nematoides"],
            controle_natural=["Rota√ß√£o de culturas", "Plantio de ramas sadias", "Cobertura morta"],
            cobertura_solo=4,
            diametro_copa=1.2,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa cobertura do solo, melhora estrutura e fertilidade",
            resistencia="Alta √† seca, moderada a doen√ßas",
            tempo_colheita="100 a 150 dias",
            icone="üç†"
        ),
        Cultura(
            nome="BERINJELA",
            tipo="Hortali√ßa-fruto",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Herb√°cea semi-arbustiva de ciclo anual",
            sinergias=["Cenoura", "Alface", "Feij√£o-vagem"],
            antagonismos=["Tomate", "Batata", "Piment√£o"],  # todos solan√°ceas
            tempo_crescimento=110,
            rendimento=30,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "bem drenado, f√©rtil e com pH entre 6 e 6.3"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="18‚Äì25¬∞C",
            faixa_ph="6.0‚Äì6.3",
            porte="M√©dio",
            ciclo="Anual",
            epocas_plantio=["Outono em clima quente", "Primavera-ver√£o em clima ameno"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Mosca-branca", "Pulg√µes", "Broca", "√Åcaros"],
            doencas=["Murcha bacteriana", "Antracnose", "Podrid√µes", "Manchas foliares"],
            controle_natural=["Rota√ß√£o de culturas", "Tutoriamento", "Cobertura morta", "Inseticidas seletivos"],
            cobertura_solo=3,
            diametro_copa=1.0,
            atrai_polinizadores="Sim",
            interacao_outros="Pode ser conduzida verticalmente; se adapta bem ao cons√≥rcio",
            resistencia="Moderada a pragas e doen√ßas; sens√≠vel ao encharcamento",
            tempo_colheita="90 a 110 dias",
            icone="üçÜ"
        ),
        Cultura(
            nome="BETERRABA",
            tipo="Raiz e tub√©rculo",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Herb√°cea de porte baixo, bianual cultivada como anual",
            sinergias=["Alface", "Cebolinha", "Cenoura"],
            antagonismos=["Salsinha", "Espinafre"],
            tempo_crescimento=70,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "leve, f√©rtil, bem drenado, pH 6‚Äì7"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="10‚Äì20¬∞C",
            faixa_ph="6.0‚Äì7.0",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Outono-inverno", "Ano todo em clima ameno"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Lagartas", "Pulg√µes", "Vaquinhas", "√Åcaros"],
            doencas=["Tombamento", "Mancha das folhas", "M√≠ldio", "Nematoides"],
            controle_natural=["Rota√ß√£o de culturas", "Sementes tratadas", "Cobertura morta", "Solariza√ß√£o"],
            cobertura_solo=3,
            diametro_copa=0.4,
            atrai_polinizadores="N√£o",
            interacao_outros="Crescimento r√°pido, favorece controle biol√≥gico",
            resistencia="Tolerante a geadas fracas; sens√≠vel a calor excessivo",
            tempo_colheita="60 a 80 dias",
            icone="ü´ê"
        ),
        Cultura(
            nome="BR√ìCOLIS",
            tipo="Hortali√ßa folhosa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea com infloresc√™ncia comest√≠vel",
            sinergias=["Alface", "Cenoura", "Cebola"],
            antagonismos=["Repolho", "Couve-flor"],  # competi√ß√£o por nutrientes
            tempo_crescimento=90,
            rendimento=12,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "profundo, f√©rtil, bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="10‚Äì22¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="M√©dio",
            ciclo="Anual",
            epocas_plantio=["Ano todo, preferencialmente entre mar√ßo e agosto"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Lagartas", "Pulg√µes"],
            doencas=["M√≠ldio", "Manchas foliares", "Podrid√µes"],
            controle_natural=["Rota√ß√£o de culturas", "Mudas sadias", "Cobertura morta"],
            cobertura_solo=3,
            diametro_copa=0.8,
            atrai_polinizadores="Sim",
            interacao_outros="Boa para diversifica√ß√£o alimentar e produ√ß√£o intensiva",
            resistencia="Sens√≠vel a calor excessivo e pragas foliares",
            tempo_colheita="70 a 100 dias",
            icone="ü•¶"
        ),
        Cultura(
            nome="CEBOLA",
            tipo="Hortali√ßa bulbo",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea bienal, cultivada como anual",
            sinergias=["Cenoura", "Alface", "Beterraba", "Tomilho"],
            antagonismos=["Feij√£o", "Ervilha"],
            tempo_crescimento=140,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "moderada", "solo": "leve, f√©rtil, bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="13‚Äì25¬∞C",
            faixa_ph="6.0‚Äì6.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Maio a Julho", "Novembro a Janeiro"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Tripes", "Lagarta-rosca", "√Åcaro da cebola"],
            doencas=["M√≠ldio", "Manchas foliares", "Podrid√µes", "Mal-do-pesco√ßo"],
            controle_natural=["Rota√ß√£o de culturas", "Cura dos bulbos", "Cobertura morta"],
            cobertura_solo=3,
            diametro_copa=0.4,
            atrai_polinizadores="N√£o",
            interacao_outros="Melhora controle de pragas em cons√≥rcios",
            resistencia="Moderada √† seca, sens√≠vel √† umidade e florescimento precoce",
            tempo_colheita="90 a 150 dias",
            icone="üßÖ"
        ),
        Cultura(
            nome="CENOURA",
            tipo="Raiz e tub√©rculo",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea de porte baixo e ra√≠zes engrossadas",
            sinergias=["Alface", "Cebola", "Cebolinha"],
            antagonismos=["Salsinha", "Coentro"],
            tempo_crescimento=110,
            rendimento=35,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "f√°cil de revolver, f√©rtil e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="16‚Äì25¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Ano todo com cultivares adaptadas", "Melhor entre mar√ßo e agosto"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Lagarta-rosca", "Pulg√£o"],
            doencas=["Queima-das-folhas", "Manchas", "Podrid√µes"],
            controle_natural=["Rota√ß√£o de culturas", "Cobertura morta", "Plantio em √©poca adequada"],
            cobertura_solo=3,
            diametro_copa=0.3,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa para rota√ß√£o de culturas e ocupa√ß√£o eficiente do solo",
            resistencia="Boa toler√¢ncia ao frio, sens√≠vel √† vernaliza√ß√£o precoce",
            tempo_colheita="80 a 120 dias",
            icone="ü•ï"
        ),
        Cultura(
            nome="COUVE-FLOR",
            tipo="Hortali√ßa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea com infloresc√™ncia comest√≠vel",
            sinergias=["Alface", "Cenoura", "Cebola"],
            antagonismos=["Repolho", "Rabanete"],
            tempo_crescimento=90,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "profundo, f√©rtil, pH 6‚Äì6.8, rico em mat√©ria org√¢nica"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="15‚Äì22¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="M√©dio",
            ciclo="Anual",
            epocas_plantio=["Ano todo (com variedade adequada)", "Melhor entre mar√ßo e agosto"],
            exigencia_nutricional="Muito alta",
            sombreamento=1,
            pragas=["Lagartas", "Pulg√µes", "Tra√ßas"],
            doencas=["M√≠ldio", "Manchas foliares", "Podrid√µes"],
            controle_natural=["Cobertura morta", "Rota√ß√£o de culturas", "Inseticidas biol√≥gicos"],
            cobertura_solo=3,
            diametro_copa=0.8,
            atrai_polinizadores="Sim",
            interacao_outros="Exige controle t√©rmico e nutricional, √≥timo para produ√ß√£o intensiva",
            resistencia="Sens√≠vel ao calor, tolera bem geadas leves",
            tempo_colheita="70 a 100 dias",
            icone="ü•¶"
        ),
        Cultura(
            nome="ERVILHA",
            tipo="Leguminosa",
            classificacao_agronomica="Alimentar e Industrial",
            classificacao_morfologica="Planta herb√°cea trepadeira ou ereta, anual",
            sinergias=["Milho", "Cenoura", "Alface"],
            antagonismos=["Cebola", "Alho"],
            tempo_crescimento=100,
            rendimento=2.0,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "f√©rtil, bem drenado e com boa mat√©ria org√¢nica"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="13‚Äì20¬∞C",
            faixa_ph="6.0‚Äì6.8",
            porte="Baixo a m√©dio",
            ciclo="Anual",
            epocas_plantio=["Mar√ßo a Maio (Minas Gerais)", "Ano todo em clima ameno com irriga√ß√£o"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Tripes", "Lagartas", "Pulg√µes"],
            doencas=["O√≠dio", "Mofo-branco", "Ascoquita", "Vira-cabe√ßa"],
            controle_natural=["Cultivares resistentes", "Irriga√ß√£o controlada", "Rota√ß√£o de culturas"],
            cobertura_solo=2,
            diametro_copa=0.5,
            atrai_polinizadores="N√£o",
            interacao_outros="Fixadora de nitrog√™nio; √≥tima para cons√≥rcios e recupera√ß√£o de solos",
            resistencia="Boa toler√¢ncia ao frio, sens√≠vel a calor excessivo",
            tempo_colheita="80 a 120 dias",
            icone="üåø"
        ),
        Cultura(
            nome="FEIJ√ÉO-CARIOCA",
            tipo="Leguminosa",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="Planta herb√°cea de ciclo curto, anual",
            sinergias=["Milho", "Caf√©", "Mandioca"],
            antagonismos=["Soja (quando h√° v√≠rus presente)", "Alho"],
            tempo_crescimento=90,
            rendimento=2.5,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "leve, f√©rtil, bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="18‚Äì24¬∞C",
            faixa_ph="5.8‚Äì6.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Primavera, Ver√£o, Outono, Inverno (com irriga√ß√£o)"],
            exigencia_nutricional="Alta",
            sombreamento=1,
            pragas=["Cigarrinha-verde", "Mosca-branca", "Pulg√µes", "Lagartas"],
            doencas=["Mofo-branco", "Murcha-de-fusarium", "Ferrugem"],
            controle_natural=["Rota√ß√£o de culturas", "Cobertura morta", "Insumos biol√≥gicos"],
            cobertura_solo=3,
            diametro_copa=0.4,
            atrai_polinizadores="N√£o",
            interacao_outros="Melhora fixa√ß√£o biol√≥gica de nitrog√™nio no solo",
            resistencia="Boa toler√¢ncia ao frio, sens√≠vel √† umidade em excesso",
            tempo_colheita="80 a 100 dias",
            icone="ü´ò"
        ),
        Cultura(
            nome="GR√ÉO-DE-BICO",
            tipo="Leguminosa",
            classificacao_agronomica="Alimentar e Industrial",
            classificacao_morfologica="Planta herb√°cea anual de ciclo m√©dio",
            sinergias=["Cenoura", "Alface", "Coentro"],
            antagonismos=["Feij√£o", "Soja (com v√≠rus)"],
            tempo_crescimento=120,
            rendimento=20,
            necessidades={"sol": "pleno", "agua": "baixa a moderada", "solo": "arenoso ou bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="baixa",
            temperatura_ideal="15‚Äì30¬∞C",
            faixa_ph="5.5‚Äì8.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Abril a Maio (regi√µes secas com irriga√ß√£o)"],
            exigencia_nutricional="Moderada (NPK)",
            sombreamento=1,
            pragas=["Lagartas", "Minadores", "Gorgulhos", "Bruchus spp."],
            doencas=["Murcha-de-fusarium", "Mofo-cinzento", "Mancha-de-ascoquita"],
            controle_natural=["Tratamento de sementes", "Rota√ß√£o", "Controle de umidade"],
            cobertura_solo=2,
            diametro_copa=0.5,
            atrai_polinizadores="N√£o",
            interacao_outros="Fixadora de nitrog√™nio; √∫til em solos pobres e √°ridos",
            resistencia="Alta √† seca, sens√≠vel √† salinidade e encharcamento",
            tempo_colheita="100 a 150 dias",
            icone="üßÜ"
        ),
        Cultura(
            nome="LENTILHA",
            tipo="Leguminosa",
            classificacao_agronomica="Gr√£o alimentar e cobertura",
            classificacao_morfologica="Planta herb√°cea de pequeno porte",
            sinergias=["Cenoura", "Milho", "Cebola"],
            antagonismos=["Tomate", "Berinjela"],
            tempo_crescimento=105,
            rendimento=16,
            necessidades={"sol": "pleno", "agua": "baixa", "solo": "bem drenado, f√©rtil, pH neutro a levemente √°cido"},
            necessidade_luz="pleno",
            necessidade_hidrica="baixa",
            temperatura_ideal="13‚Äì21¬∞C (at√© 25¬∞C)",
            faixa_ph="6.0‚Äì7.5",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Maio a Junho (regi√µes frias)"],
            exigencia_nutricional="Baixa",
            sombreamento=1,
            pragas=["Bruchus lentis", "Gorgulhos", "Lagartas"],
            doencas=["Murcha", "Mofo", "Podrid√µes radiculares"],
            controle_natural=["Rota√ß√£o de culturas", "Sementes tratadas", "Boa drenagem"],
            cobertura_solo=2,
            diametro_copa=0.4,
            atrai_polinizadores="N√£o",
            interacao_outros="Fixadora de nitrog√™nio, √≥tima para solos pobres",
            resistencia="Alta √† seca, sens√≠vel ao excesso de umidade",
            tempo_colheita="100 a 120 dias",
            icone="üå∞"
        ),
        Cultura(
            nome="MA√á√É",
            tipo="Frut√≠fera",
            classificacao_agronomica="Comercial e Alimentar",
            classificacao_morfologica="√Årvore caducif√≥lia de clima temperado",
            sinergias=["Cebola", "Alface", "Trigo"],
            antagonismos=["Girassol", "Tomate"],
            tempo_crescimento=240,
            rendimento=30,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "profundo, f√©rtil, bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="15‚Äì20¬∞C",
            faixa_ph="5.3‚Äì6.0",
            porte="M√©dio a alto",
            ciclo="Perene",
            epocas_plantio=["Inverno (Julho a Agosto)"],
            exigencia_nutricional="Alta (C√°lcio, Pot√°ssio, Nitrog√™nio)",
            sombreamento=3,
            pragas=["Mosca-das-frutas", "√Åcaros", "Pulg√µes", "Lagartas"],
            doencas=["Sarna", "O√≠dio", "Podrid√£o", "M√≠ldio"],
            controle_natural=["Poda de forma√ß√£o", "Polinizadores naturais", "Aplica√ß√£o de caldas"],
            cobertura_solo=4,
            diametro_copa=3.5,
            atrai_polinizadores="Sim",
            interacao_outros="Requer cultivares polinizadoras pr√≥ximas; boa para reflorestamento produtivo",
            resistencia="M√©dia a pragas, sens√≠vel ao calor",
            tempo_colheita="6 a 8 meses ap√≥s a florada",
            icone="üçé"
        ),
        Cultura(
            nome="MANDIOCA",
            tipo="Raiz e tub√©rculo",
            classificacao_agronomica="Mesa, Ind√∫stria, Forragem",
            classificacao_morfologica="Arbusto de porte m√©dio",
            sinergias=["Milho", "Feij√£o", "Crotal√°ria"],
            antagonismos=["Tomate", "Berinjela"],
            tempo_crescimento=360,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "profundo e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="25‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.5",
            porte="M√©dio",
            ciclo="Perene (colheita entre 12 e 24 meses)",
            epocas_plantio=["Outubro a Dezembro (Cerrado)", "Junho a Setembro (Zona da Mata)"],
            exigencia_nutricional="Moderada",
            sombreamento=2,
            pragas=["Mandarov√°", "Cupins", "Formigas", "√Åcaros", "Mosca-do-broto", "Tripes"],
            doencas=["Bacteriose", "Podrid√µes radiculares", "Mosaico-comum"],
            controle_natural=["Bacillus thuringiensis", "Rota√ß√£o de culturas", "Variedades resistentes"],
            cobertura_solo=3,
            diametro_copa = 1.2,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa adaptabilidade e rusticidade; tolera solos pobres",
            resistencia="Alta √† seca, moderada a doen√ßas",
            tempo_colheita="12 a 24 meses",
            icone="üå±"
        ),
        Cultura(
            nome="MILHO VERDE",
            tipo="Cereal",
            classificacao_agronomica="Mesa e Ind√∫stria",
            classificacao_morfologica="Herb√°cea anual de porte alto",
            sinergias=["Feij√£o", "Cucurbit√°ceas", "Mandioca"],
            antagonismos=["Tomate", "Berinjela"],
            tempo_crescimento=90,
            rendimento=40,
            necessidades={"sol": "pleno", "agua": "regular", "solo": "f√©rtil e bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="20‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.8",
            porte="Alto",
            ciclo="Anual",
            epocas_plantio=["Ano todo com irriga√ß√£o"],
            exigencia_nutricional="Alta",
            sombreamento=0,
            pragas=["Lagarta-do-cartucho", "Cigarrinha-do-milho"],
            doencas=["Manchas foliares", "Ferrugens"],
            controle_natural=["Trichogramma", "Controle biol√≥gico", "Rota√ß√£o de culturas"],
            cobertura_solo=2,
            diametro_copa=0.7,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa cobertura de solo ap√≥s colheita",
            resistencia="Moderada a pragas",
            tempo_colheita="90 dias",
            icone="üåΩ"
        ),
        Cultura(
            nome="SOJA",
            tipo="Leguminosa",
            classificacao_agronomica="Gr√£os",
            classificacao_morfologica="Herb√°cea anual de porte baixo",
            sinergias=["Milho", "Feij√£o", "Crotal√°ria"],
            antagonismos=["Alho", "Cebola"],
            tempo_crescimento=100,
            rendimento=50,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "bem drenado e f√©rtil"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="20‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.8",
            porte="Baixo",
            ciclo="Anual",
            epocas_plantio=["Primavera", "Ver√£o"],
            exigencia_nutricional="Alta",
            sombreamento=0,
            pragas=["Lagartas", "Percevejos"],
            doencas=["Ferrugem asi√°tica", "O√≠dio"],
            controle_natural=["Rota√ß√£o de culturas", "Controle biol√≥gico"],
            cobertura_solo=2,
            diametro_copa=0.8,
            atrai_polinizadores="Sim",
            interacao_outros="Fixadora de nitrog√™nio",
            resistencia="Alta a seca",
            tempo_colheita="100 dias",
            icone="üåø"
        ),
        Cultura(
            nome="TOMATE",
            tipo="Frut√≠fera",
            classificacao_agronomica="Mesa e Ind√∫stria",
            classificacao_morfologica="Herb√°cea anual de crescimento determinado ou indeterminado",
            sinergias=["Cenoura", "Cebolinha"],
            antagonismos=["Batata", "Berinjela"],
            tempo_crescimento=120,
            rendimento=60,
            necessidades={"sol": "pleno", "agua": "frequente", "solo": "bem drenado e f√©rtil"},
            necessidade_luz="pleno",
            necessidade_hidrica="alta",
            temperatura_ideal="21‚Äì24¬∞C (ideal), sens√≠vel acima de 30¬∞C",
            faixa_ph="5.5‚Äì6.5",
            porte="M√©dio",
            ciclo="Anual",
            epocas_plantio=["Ano todo em regi√µes adequadas"],
            exigencia_nutricional="Alta",
            sombreamento=0,
            pragas=["Pulg√µes", "Tripes", "Mosca-branca"],
            doencas=["M√≠ldio", "O√≠dio", "Podrid√µes"],
            controle_natural=["Rota√ß√£o de culturas", "Cobertura morta", "Predadores naturais"],
            cobertura_solo=3,
            diametro_copa=1.5,
            atrai_polinizadores="N√£o",
            interacao_outros="Demanda alta por nutrientes, influ√™ncia sobre qualidade do solo",
            resistencia="Baixa a doen√ßas foliares",
            tempo_colheita="85 a 125 dias",
            icone="üçÖ"
        ),
        Cultura(
            nome="TRIGO",
            tipo="Cereal",
            classificacao_agronomica="Gr√£os e panifica√ß√£o",
            classificacao_morfologica="Herb√°cea anual de porte m√©dio",
            sinergias=["Soja", "Ervilha", "Feij√£o"],
            antagonismos=["Cebola", "Tomate"],
            tempo_crescimento=120,
            rendimento=50,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "bem drenado, f√©rtil, pH corrigido"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="18‚Äì24¬∞C (√≥timo); tolera at√© 30¬∞C",
            faixa_ph="5.8‚Äì6.5",
            porte="M√©dio",
            ciclo="Anual",
            epocas_plantio=["Janeiro a Junho (varia por altitude e irriga√ß√£o)"],
            exigencia_nutricional="Alta",
            sombreamento=0,
            pragas=["Lagarta-do-trigo", "Percevejo", "Pulg√µes"],
            doencas=["Ferrugem", "M√≠ldio", "O√≠dio", "Manchas foliares"],
            controle_natural=["Rota√ß√£o de culturas", "Cobertura morta", "Sementes tratadas"],
            cobertura_solo=3,
            diametro_copa=0.5,
            atrai_polinizadores="N√£o",
            interacao_outros="Boa cobertura vegetal e fonte de palhada em plantio direto",
            resistencia="Moderada a seca, sens√≠vel a geadas na flora√ß√£o",
            tempo_colheita="90 a 130 dias",
            icone="üåæ"
        ),
        Cultura(
            nome="UVA",
            tipo="Frut√≠fera",
            classificacao_agronomica="Mesa, vinho e sucos",
            classificacao_morfologica="Trepadeira lenhosa perene",
            sinergias=["Alho", "Cebola", "Capim-lim√£o"],
            antagonismos=["Batata", "Cenoura"],
            tempo_crescimento=240,
            rendimento=25,
            necessidades={"sol": "pleno", "agua": "moderado", "solo": "profundo, f√©rtil, bem drenado"},
            necessidade_luz="pleno",
            necessidade_hidrica="moderada",
            temperatura_ideal="15‚Äì30¬∞C",
            faixa_ph="5.5‚Äì6.5",
            porte="Trepadeira",
            ciclo="Perene",
            epocas_plantio=["Outono a primavera, com poda programada"],
            exigencia_nutricional="Alta",
            sombreamento=3,
            pragas=["Tripes", "√Åcaros", "Cochonilhas", "Lagartas"],
            doencas=["M√≠ldio", "O√≠dio", "Podrid√µes", "Ferrugem"],
            controle_natural=["Poda adequada", "Cobertura do solo", "Aplica√ß√µes foliares equilibradas"],
            cobertura_solo=4,
            diametro_copa=3,
            atrai_polinizadores="Sim",
            interacao_outros="Importante na agricultura familiar e vinicultura; sens√≠vel ao manejo h√≠drico",
            resistencia="Moderada a pragas, exige cuidados com doen√ßas f√∫ngicas",
            tempo_colheita="6 a 10 meses ap√≥s poda",
            icone="üçá"
        ),

    ]

    # Carrega o JSON existente (se houver)
    if os.path.exists(caminho_json):
        with open(caminho_json, "r", encoding="utf-8") as f:
            existentes = json.load(f)
    else:
        existentes = []

    for cultura in novas_culturas:
        existentes.append(cultura.to_dict())

    with open(caminho_json, "w", encoding="utf-8") as f:
        json.dump(existentes, f, ensure_ascii=False, indent=2)

    print("‚úÖ Culturas adicionadas ao culturas.json com sucesso.")
